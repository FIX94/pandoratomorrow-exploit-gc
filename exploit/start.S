// Copyright 2008-2009  Segher Boessenkool  <segher@kernel.crashing.org>
// GameCube Port Copyright 2016 FIX94
// This code is licensed to you under the terms of the GNU GPL, version 2;
// see file LICENSE or http://www.gnu.org/licenses/old-licenses/gpl-2.0.txt

#define XSTR(x) #x
#define ISTR(x) XSTR(x)

	.section .start,"ax"

	// Map Name string size, choose one that overflows stack
	.short 0x22C
	// Fill up Map Name
	.fill 0x228,1,'A'
	// Pointer to our code
	.long start
	// Further save info, not sure if needed
	.incbin "mapAfterName.bin"
	// Alignment
	.short 0
	// Fill up so game does not interpret code below as 2nd save info
	.fill 0x4B0,1,0x00

start:
	// Disable interrupts
	mfmsr 3 ; rlwinm 3,3,0,17,15 ; mtmsr 3

	// Go for it!
	b _main
